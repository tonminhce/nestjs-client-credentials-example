  // This is your Prisma schema file,
  // learn more about it in the docs: https://pris.ly/d/prisma-schema

  generator client {
    provider = "prisma-client-js"
  }

  datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
  }

  //Model ShopManager
  model ShopManager {
    id        Int       @id @unique @default(autoincrement())
    name      String?
    email     String    @unique
    phone     String
    createdAt DateTime  @default(now())
    updatedAt DateTime  @updatedAt
    shops     Shop[]    
  }

  //Model Shop
  model Shop {
    id             Int       @id @default(autoincrement())
    shopManager_id       Int
    description    String
    name      String?
    address     String    @unique
    phone     String
    createdAt      DateTime  @default(now())
    updatedAt      DateTime  @updatedAt
    shopManager    ShopManager @relation(fields: [shopManager_id], references: [id])
    staffs    Staff[]

  }

  //Staff
  model Staff {
    id             Int       @id @default(autoincrement())
    shop_id       Int
    name      String?
    salary     Float    
    phone     String
    createdAt      DateTime  @default(now())
    updatedAt      DateTime  @updatedAt
    shop    Shop @relation(fields: [shop_id], references: [id])
    staff_shift Staff_Shift[]

  }

  //Shift
  model Shift {
    id             Int       @id @default(autoincrement())
    start_time DateTime
    end_time DateTime
    report     String
    createdAt      DateTime  @default(now())
    updatedAt      DateTime  @updatedAt
    staff_shift Staff_Shift[]

  }

  //Staff_Shift
  model Staff_Shift {
    id             Int       @id @default(autoincrement())
    staff_id Int
    shift_id Int
    report     String
    createdAt      DateTime  @default(now())
    updatedAt      DateTime  @updatedAt
    staff    Staff @relation(fields: [staff_id], references: [id])
    shift    Shift @relation(fields: [shift_id], references: [id])
    attendance Attendance[]

  }
  
  //Enums Status (Check_in, Check_out)
  enum AttendanceStatus {
    CHECK_IN
    CHECK_OUT
  }
  //Staff_Shift
  model Attendance {
    id             Int       @id @default(autoincrement())
    staff_shift_id Int
    status  AttendanceStatus
    createdAt      DateTime  @default(now())
    staff_shift Staff_Shift @relation(fields: [staff_shift_id], references: [id])
  }

